!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(10);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(11),o=n(8);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){t.exports=n(12)},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,u,"next",t)}function u(t){n(a,o,i,s,u,"throw",t)}s(void 0)}))}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function p(){}function f(){}function h(){}var d={};d[o]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&n.call(m,o)&&(d=m);var y=h.prototype=p.prototype=Object.create(d);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return f.prototype=y.constructor=h,h.constructor=f,f.displayName=s(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(g.prototype),g.prototype[i]=function(){return this},t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(y),s(y,a,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";n.r(e);n(9);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(3),u=n.n(s),c=function(){function t(){o()(this,t),u()(this,"listeners",void 0),this.listeners={}}return a()(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){if(!this.listeners[t])throw new Error("Нет события: ".concat(t));this.listeners[t]=this.listeners[t].filter((function(t){return t!==e}))}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(!this.listeners[t])throw new Error("Нет события: ".concat(t));this.listeners[t].forEach((function(t){t.apply(void 0,n)}))}}]),t}(),l={ru:{emptyInput:"Это обязательное поле",outOfRange:"Должно быть от 8 до 30 символов",email:"Неправильный формат email",tel:"Неправильный формат телефона",alreadyExists:"Такой пользователь уже существует",correctInput:"",password:"Должно быть от 8 до 30 символов",text:"Должно быть от 8 до 30 символов"}},p="init",f="flow:component-did-mount",h="flow:component-did-update",d="flow:render",v={reg:"/reg",auth:"/auth",chat:"/chat",notFound:"/not-found",userInfo:"/user-info",error:"/error",pass:"/pass",ava:"/ava",newChat:"/new-chat"},m=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,t),u()(this,"_element",null),u()(this,"_meta",null),u()(this,"eventBus",void 0),u()(this,"data",void 0),u()(this,"setProps",(function(t){t&&Object.assign(e.data,t)})),this._meta={tagName:n,data:r},this.data=this._makePropsProxy(r),this.eventBus=new c,this._registerEvents(this.eventBus),this.eventBus.emit(p)}return a()(t,[{key:"_registerEvents",value:function(t){t.on(p,this.init.bind(this)),t.on(f,this._componentDidMount.bind(this)),t.on(h,this._componentDidUpdate.bind(this)),t.on(d,this._render.bind(this))}},{key:"_createResources",value:function(){var t=this._meta.tagName;this._element=this._createDocumentElement(t)}},{key:"init",value:function(){this._createResources(),this.eventBus.emit(f)}},{key:"_componentDidMount",value:function(){this.eventBus.emit(d)}},{key:"_componentDidUpdate",value:function(t,e){this._checkProps(t,e)&&this._render()}},{key:"_checkProps",value:function(t,e){return t!==e}},{key:"_render",value:function(){var t=this.render();this._element.innerHTML="",this._element.insertAdjacentHTML("beforeend",t)}},{key:"render",value:function(){}},{key:"getContent",value:function(){return this.element}},{key:"_makePropsProxy",value:function(t){var e=this;return new Proxy(t,{get:function(t,e){var n=t[e];return"function"==typeof n?n.bind(t):n},set:function(t,n,r){var o=t[n];return t[n]=r,e.eventBus.emit(h,o,t[n]),!0},deleteProperty:function(){throw new Error("Нет доступа")}})}},{key:"_createDocumentElement",value:function(t){return document.createElement(t)}},{key:"show",value:function(){this.getContent().style.display="block"}},{key:"hide",value:function(){this.getContent().style.display="none"}},{key:"element",get:function(){return this._element}}]),t}(),y=function(){function t(e,n,r){o()(this,t),u()(this,"pathname",void 0),u()(this,"blockClass",void 0),u()(this,"block",void 0),u()(this,"props",void 0),this.pathname=e,this.blockClass=n,this.block=null,this.props=r}return a()(t,[{key:"leave",value:function(){this.block&&this.block.hide()}},{key:"match",value:function(t){return t===this.pathname}},{key:"render",value:function(){if(!this.block)return this.block=this.blockClass,this.renderInDOM(this.props.rootQuery,this.block),void this.setListenersToElement(this.block);this.block.show(),this.block.setInfo&&this.block.setInfo()}},{key:"renderInDOM",value:function(t,e){var n=document.querySelector(t);return n.appendChild(e.getContent()),n}},{key:"setListenersToElement",value:function(t){t.setListeners()}}]),t}(),_=function(){function t(e){if(o()(this,t),u()(this,"routes",void 0),u()(this,"history",void 0),u()(this,"currentRoute",void 0),u()(this,"rootQuery",void 0),t.__instance)return t.__instance;this.routes=[],this.history=window.history,this.currentRoute=null,this.rootQuery=e,t.__instance=this}return a()(t,[{key:"use",value:function(t,e){var n=new y(t,e,{rootQuery:this.rootQuery});return this.routes.push(n),this}},{key:"start",value:function(){var t=this;window.onpopstate=function(e){t.onRoute(e.currentTarget.location.pathname)},this.onRoute(window.location.pathname)}},{key:"onRoute",value:function(t){var e=this.getRoute(t);e&&(this.currentRoute&&this.currentRoute.leave(),this.currentRoute=e,e.render())}},{key:"go",value:function(t){this.history.pushState({},"",t),this.onRoute(t)}},{key:"back",value:function(){this.history.go(-1)}},{key:"forward",value:function(){this.history.go(1)}},{key:"getRoute",value:function(t){return this.routes.find((function(e){return e.match(t)}))}}]),t}();u()(_,"__instance",void 0);var g=function(){function t(e){o()(this,t),u()(this,"TEMPLATE_REGEXP",void 0),u()(this,"template",void 0),this.template=e,this.TEMPLATE_REGEXP=/{{(.*?)}}/gi}return a()(t,[{key:"compile",value:function(t){var e=this.template;return this.compileTemplate(e,t)}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=t;return r&&r[e]?r[e]:n}},{key:"compileTemplate",value:function(t,e){var n=t,r=null;if(e)for(;r=this.TEMPLATE_REGEXP.exec(n);)if(r[1]){var o=this.get(e,r[1],r[0]);n=n.replace(new RegExp(r[0],"gi"),o)}return n}}]),t}(),b=function(){function t(e,n){o()(this,t),this.errors=e,this.form=n}return a()(t,[{key:"validate",value:function(t){this.checkValidity(t),this.checkAllInputs()?this.activateButton():this.disableButton()}},{key:"checkValidity",value:function(t){var e=document.querySelector("".concat(this.form," #").concat(t.target.name)),n=!t.target.validity.valid&&t.target.value.length>0&&e;0===t.target.value.length&&e?(e.textContent=this.errors.ru.emptyInput,this.disableButton()):n?(e.textContent=this.errors.ru[t.target.type],this.disableButton()):this.removeErrors(t)}},{key:"checkAllInputs",value:function(){var t=document.querySelectorAll("".concat(this.form," input"));return Array.from(t).every((function(t){return!0===t.validity.valid}))}},{key:"removeErrors",value:function(t){var e=document.querySelector("".concat(this.form," #").concat(t.target.name));e&&(e.textContent="")}},{key:"disableButton",value:function(){document.querySelector("".concat(this.form,' button[type="submit"]')).setAttribute("disabled","true")}},{key:"activateButton",value:function(){document.querySelector("".concat(this.form,' button[type="submit"]')).removeAttribute("disabled")}}]),t}(),w=new _("#page"),k=n(4),x=n.n(k),P=n(5),R=n.n(P),C=n(2),E=n.n(C);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var L=function(t){x()(n,t);var e=O(n);function n(){return o()(this,n),e.call(this,"section")}return a()(n,[{key:"render",value:function(){return new g('<div id="user-top-menu" class="user-top-menu">\n  <div id="user-top-menu-avatar" class="user-top-menu__avatar">\n    <img class="user-top-menu__avatar-image" src="{{img}}" alt="{{name}}">\n    <h1 class="user-top-menu__name">{{name}}</h1>\n  </div>\n  <div id="user-top-menu__buttons" class="user-top-menu__buttons">\n    <button type="button" id="user-top-menu__info"  class="user-top-menu__button">\n      <svg  width="22" height="22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.286 18.071V16.5a3.143 3.143 0 00-3.143-3.143H7.857A3.143 3.143 0 004.714 16.5v1.571M11 10.214a3.143 3.143 0 100-6.286 3.143 3.143 0 000 6.286z" stroke="#787885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\n    </button>\n    <button type="button" id="user-top-menu__avatar" class="user-top-menu__button">\n      <svg width="22" height="22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.5 3.929h-11c-.868 0-1.571.703-1.571 1.571v11c0 .868.703 1.571 1.571 1.571h11c.868 0 1.571-.703 1.571-1.571v-11c0-.868-.703-1.571-1.571-1.571z" stroke="#787885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.25 9.429a1.179 1.179 0 100-2.358 1.179 1.179 0 000 2.358zM18.071 13.357L14.143 9.43 5.5 18.07" stroke="#787885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\n    </button>\n    <button type="button" id="user-top-menu__password" class="user-top-menu__button">\n      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M11 18.8571C11 18.8571 17.2857 15.7143 17.2857 11V5.5L11 3.14286L4.71428 5.5V11C4.71428 15.7143 11 18.8571 11 18.8571Z" stroke="#787885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n    </button>\n    <button type="button" id="user-top-menu__chat" class="user-top-menu__button">\n      <svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6v12M6 12h12" stroke="#787885" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\n    </button>\n</div>\n</div>').compile(this.data)}}]),n}(m);function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var A=function(t){x()(n,t);var e=S(n);function n(){return o()(this,n),e.call(this,"section")}return a()(n,[{key:"render",value:function(){return new g('<form id="message" class="form form_chat chat-bottom-interface" novalidate>\n          <input\n            type="text"\n            name="text"\n            class="form__input form__input_chat chat-bottom-interface__input"\n            placeholder="Написать сообщение..."\n            minlength="1"\n            maxlength="499"\n            required\n          />\n          <div class="chat-bottom-interface__wrapper">\n            <button\n              type="button"\n              class="common chat-bottom-interface__button chat-bottom-interface__button_photo"\n            >\n              <svg\n                width="28"\n                height="28"\n                viewBox="0 0 28 28"\n                fill="none"\n                class="chat-bottom-interface__image"\n              >\n                <path\n                  d="M25 21C25 21.5304 24.7893 22.0391 24.4142 22.4142C24.0391 22.7893 23.5304 23 23 23H5C4.46957 23 3.96086 22.7893 3.58579 22.4142C3.21071 22.0391 3 21.5304 3 21V10C3 9.46957 3.21071 8.96086 3.58579 8.58579C3.96086 8.21071 4.46957 8 5 8H9L11 5H17L19 8H23C23.5304 8 24.0391 8.21071 24.4142 8.58579C24.7893 8.96086 25 9.46957 25 10V21Z"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n                <path\n                  d="M14 19C16.2091 19 18 17.2091 18 15C18 12.7909 16.2091 11 14 11C11.7909 11 10 12.7909 10 15C10 17.2091 11.7909 19 14 19Z"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n            <button\n              type="button"\n              class="common chat-bottom-interface__button chat-bottom-interface__button_file"\n            >\n              <svg\n                width="28"\n                height="28"\n                viewBox="0 0 28 28"\n                fill="none"\n                class="chat-bottom-interface__image"\n              >\n                <path\n                  d="M24 21C24 21.5304 23.7893 22.0391 23.4142 22.4142C23.0391 22.7893 22.5304 23 22 23H6C5.46957 23 4.96086 22.7893 4.58579 22.4142C4.21071 22.0391 4 21.5304 4 21V7C4 6.46957 4.21071 5.96086 4.58579 5.58579C4.96086 5.21071 5.46957 5 6 5H11L13 8H22C22.5304 8 23.0391 8.21071 23.4142 8.58579C23.7893 8.96086 24 9.46957 24 10V21Z"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n            <button\n              type="button"\n              class="common chat-bottom-interface__button chat-bottom-interface__button_location"\n            >\n              <svg\n                width="24"\n                height="24"\n                viewBox="0 0 24 24"\n                fill="none"\n                class="chat-bottom-interface__image"\n              >\n                <path\n                  d="M19.3469 10.3673C19.3469 16.0816 12 20.9796 12 20.9796C12 20.9796 4.65302 16.0816 4.65302 10.3673C4.65302 8.4188 5.42707 6.55007 6.80488 5.17225C8.1827 3.79444 10.0514 3.02039 12 3.02039C13.9485 3.02039 15.8172 3.79444 17.195 5.17225C18.5728 6.55007 19.3469 8.4188 19.3469 10.3673Z"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n                <path\n                  d="M12 12.8163C13.3525 12.8163 14.449 11.7198 14.449 10.3673C14.449 9.01478 13.3525 7.91833 12 7.91833C10.6475 7.91833 9.55103 9.01478 9.55103 10.3673C9.55103 11.7198 10.6475 12.8163 12 12.8163Z"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n            <button\n              type="submit"\n              class="common form__button chat-bottom-interface__button chat-bottom-interface__button_send" disabled\n            >\n              <svg\n                width="28"\n                height="28"\n                viewBox="0 0 28 28"\n                fill="none"\n                class="chat-bottom-interface__image"\n              >\n                <path\n                  d="M7 14H21"\n                  stroke="black"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n                <path\n                  d="M14 7L21 14L14 21"\n                  stroke="black"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n          </div>\n        </form>').compile(this.data)}}]),n}(m),j=n(8),D=n.n(j);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var q=function(t){x()(n,t);var e=I(n);function n(t,r){var i;return o()(this,n),(i=e.call(this,"section",t)).props=r,u()(D()(i),"page",void 0),i}return a()(n,[{key:"setListeners",value:function(){var t=this;this.page=document.querySelector(this.props.page),this.page&&this.page.addEventListener("click",(function(e){"chat-button"===e.target.getAttribute("id")&&t.props.router.go(t.props.path.chat)}))}}]),n}(m),T='\n<section id="{{id}}"  class="error-page {{type}}">\n  <h1 class="error-page__header">{{error}}</h1>\n  <p class="error-page__text">{{text}}</p>\n  <button id="chat-button" type="button" class="error-page__link">Назад к чатам</button>\n</section>';function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var B=function(t){x()(n,t);var e=M(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){return new g(T).compile(this.data)}}]),n}(q);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var N=function(t){x()(n,t);var e=F(n);function n(t){return o()(this,n),e.call(this,"section",t)}return a()(n,[{key:"render",value:function(){return new g('\n<section class="favorites">\n          <h2 class="favorites__title">{{title}}</h2>\n          <div class="favorites__wrapper"><div class="favorites__user">\n              <div class="favorites__avatar">\n                <img class="favorites__avatar-image" src="{{src}}" alt="{{name}}">\n                <div class="favorites__status"></div>\n              </div>\n              <p class="favorites__user-name">{{name}}</p>\n            </div><div class="favorites__user">\n              <div class="favorites__avatar">\n                <img class="favorites__avatar-image" src="{{src}}" alt="{{name}}">\n                <div class="favorites__status"></div>\n              </div>\n              <p class="favorites__user-name">{{name}}</p>\n            </div><div class="favorites__user">\n              <div class="favorites__avatar">\n                <img class="favorites__avatar-image" src="{{src}}" alt="{{name}}">\n                <div class="favorites__status"></div>\n              </div>\n              <p class="favorites__user-name">{{name}}</p>\n            </div><div class="favorites__user">\n              <div class="favorites__avatar">\n                <img class="favorites__avatar-image" src="{{src}}" alt="{{name}}">\n                <div class="favorites__status"></div>\n              </div>\n              <p class="favorites__user-name">{{name}}</p>\n            </div></div>\n        </section>').compile(this.data)}}]),n}(m);function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var H=function(t){x()(n,t);var e=$(n);function n(t,r){var i;return o()(this,n),(i=e.call(this,"div",t)).props=r,i}return a()(n,[{key:"setInitialListeners",value:function(){this.props.checkInputsOnFocusAndBlur(this.props.validation,this.props.form)}},{key:"removeTextAndErrors",value:function(){this.removeInputText(),this.removeErrors()}},{key:"removeInputText",value:function(){document.querySelectorAll("".concat(this.props.form," input")).forEach((function(t){t.value=""}))}},{key:"removeErrors",value:function(){document.querySelectorAll("".concat(this.props.form," .error")).forEach((function(t){return t.textContent=""}))}},{key:"disableButton",value:function(){document.querySelector("".concat(this.props.form,' button[type="submit"]')).setAttribute("disabled","true")}},{key:"setRouter",value:function(t,e,n){var r=this;document.querySelector(t).addEventListener("click",(function(t){t.target.getAttribute("id")===e&&(r.props.router.go(n),r.removeTextAndErrors(),r.disableButton())}))}}]),n}(m),W=n(6),G=n.n(W),U=n(7),V=n.n(U);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var Z=function(t){x()(r,t);var e,n=J(r);function r(){return o()(this,r),n.apply(this,arguments)}return a()(r,[{key:"render",value:function(){return new g('\n<form class="form form_auth" name="auth" id="auth" novalidate="">\n   <fieldset class="form__fieldset" name="fieldset">\n      <legend class="form__legend">Авторизация</legend>\n      <div class="form__container">\n         <input type="text" name="login" class="input form__input form__input_auth" id="authorization-email" placeholder="{{loginPlaceholder}}" pattern="{{loginPattern}}" required>\n         <p class="error error_type_login" id="login"></p>\n      </div>\n      <div class="form__container">\n        <input type="password" name="password" class="input form__input form__input_auth" id="authorization-password" placeholder="{{passPlaceholder}}" pattern="{{passPattern}}" required>\n        <p class="error error_type_password" id="password"></p>\n    </div>\n    <p class="error error_type_auth-error" id="reg-error"></p>\n      <div class="form__container"><button type="submit" class="common form__button" disabled>\n         {{button}}</button>\n      </div>\n      <div class="form__container">\n         <p class="form__text">{{subbutton}}</p>\n         <button id="reg-form" type="button" class="form__link">{{link}}</button>\n      </div>\n   </fieldset>\n</form>').compile(this.data)}},{key:"setListeners",value:function(){this.setInitialListeners(),this.submit(),this.setRouter(this.props.form,this.props.button,this.props.path.reg)}},{key:"submit",value:function(){var t=this,e=document.querySelector(this.props.form);e.addEventListener("submit",(function(n){n.preventDefault();var r=t.props.getDataOnSubmit(t.props.validation,t.props.form);r.status&&t.signIn(r.data,e)}))}},{key:"signIn",value:(e=V()(G.a.mark((function t(e,n){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.authApi.signIn(e);case 3:200===(r=t.sent).status?(this.props.router.go(this.props.path.chat),this.removeTextAndErrors(),this.disableButton()):n.querySelector(this.props.error).textContent=JSON.parse(r.response).reason,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t,n){return e.apply(this,arguments)})}]),r}(H);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var Q=function(t){x()(r,t);var e,n=z(r);function r(){return o()(this,r),n.apply(this,arguments)}return a()(r,[{key:"render",value:function(){return new g('\n<form class="form form_reg" name="reg" id="reg" novalidate>\n    <fieldset class="form__fieldset" name="fieldset">\n      <legend class="form__legend">Регистрация</legend>\n    </fieldset>\n    <div class="form__container">\n      <input type="text" name="first_name" class="input form__input form__input_reg" id="registration-first-name" placeholder="{{firstNamePlaceholder}}" pattern="{{secondNamePattern}}" required>\n      <p class="error error_type_email" id="first_name"></p>\n    </div>\n    <div class="form__container">\n      <input type="text" name="second_name" class="input form__input form__input_reg" id="registration-second-name" placeholder="{{secondNamePlaceholder}}" pattern="{{secondNamePattern}}" required>\n      <p class="error error_type_email" id="second_name"></p>\n    </div>\n    <div class="form__container">\n      <input type="text" name="login" class="input form__input form__input_reg" id="registration-login" placeholder="{{loginPlaceholder}}" pattern="{{loginPattern}}" required>\n      <p class="error error_type_login" id="login"></p>\n    </div>\n    <div class="form__container">\n      <input type="email" name="email" class="input form__input form__input_reg" id="registration-email" placeholder="{{mailPlaceholder}}" pattern="{{mailPattern}}" required>\n      <p class="error error_type_email" id="email"></p>\n    </div>\n    <div class="form__container">\n      <input type="password" name="password" class="input form__input form__input_reg" id="registration-password" placeholder="{{passPlaceholder}}" pattern="{{passPattern}}" required>\n      <p class="error error_type_password" id="password"></p>\n    </div>\n    <div class="form__container">\n      <input type="tel" name="phone" class="input form__input form__input_reg" id="registration-phone" placeholder="{{phonePlaceholder}}" pattern="{{phonePattern}}" required>\n      <p class="error error_type_email" id="phone"></p>\n    </div>\n    <div class="form__container">\n      <p class="error error_type_reg-error" id="reg-error"></p>\n      <button type="submit" class="common form__button" disabled>{{button}}</button>\n    </div>\n    <div class="form__container">\n      <p class="form__text">{{subbutton}}</p><button id="auth-form" type="button" class="form__link">{{link}}</button>\n    </div>\n  </form>').compile(this.data)}},{key:"setListeners",value:function(){this.setInitialListeners(),this.submit(),this.setRouter(this.props.form,this.props.button,this.props.path.auth)}},{key:"submit",value:function(){var t=this,e=document.querySelector(this.props.form);e.addEventListener("submit",(function(n){n.preventDefault();var r=t.props.getDataOnSubmit(t.props.validation,t.props.form);r.status&&t.signUp(r.data,e)}))}},{key:"signUp",value:(e=V()(G.a.mark((function t(e,n){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.authApi.signUp(e);case 3:200===(r=t.sent).status?(this.props.router.go(this.props.path.chat),this.removeTextAndErrors(),this.disableButton()):n.querySelector(this.props.error).textContent=JSON.parse(r.response).reason,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t,n){return e.apply(this,arguments)})}]),r}(H);function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var Y=function(t){x()(n,t);var e=X(n);function n(t){return o()(this,n),e.call(this,"section",t)}return a()(n,[{key:"render",value:function(){return new g('<div class="message">\n              <div id="{{id}}" class="message__wrapper">\n                <div class="message__user-avatar">\n                  <img\n                    class="message__user-image"\n                    src="{{avatar}}"\n                    alt="{{title}}"\n                  />\n                </div>\n\n                <div class="message__text-wrapper">\n                  <p class="message__user-name">{{title}}</p>\n                </div>\n\n              </div>\n            </div>').compile(this.data)}}]),n}(m);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var tt=function(t){x()(n,t);var e=K(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){return new g(T).compile(this.data)}}]),n}(q);function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var nt=function(t){x()(n,t);var e=et(n);function n(){return o()(this,n),e.call(this,"section")}return a()(n,[{key:"render",value:function(){return new g('<section class="search">\n          <div class="search__wrapper">\n            <svg\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              fill="none"\n              class="search__image-search"\n            >\n              <path\n                d="M11.1429 18C14.93 18 18.0001 14.93 18.0001 11.1429C18.0001 7.35576 14.93 4.28571 11.1429 4.28571C7.35581 4.28571 4.28577 7.35576 4.28577 11.1429C4.28577 14.93 7.35581 18 11.1429 18Z"\n                stroke="#787885"\n                stroke-width="2"\n                stroke-linecap="round"\n                stroke-linejoin="round"\n              />\n              <path\n                d="M19.7143 19.7143L15.9857 15.9857"\n                stroke="#787885"\n                stroke-width="2"\n                stroke-linecap="round"\n                stroke-linejoin="round"\n              />\n            </svg>\n            <input class="search__input" type="text" placeholder="Поиск" />\n            <button type="button" class="search__delete">\n              <svg\n                width="24"\n                height="24"\n                viewBox="0 0 24 24"\n                fill="none"\n                class="search__image-delete"\n              >\n                <path\n                  d="M17.1429 6.85714L6.85718 17.1429"\n                  stroke="#76A9FF"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n                <path\n                  d="M6.85718 6.85714L17.1429 17.1429"\n                  stroke="#76A9FF"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n          </div>\n        </section>').compile(this.data)}}]),n}(m);function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var ot=function(t){x()(n,t);var e=rt(n);function n(){return o()(this,n),e.call(this,"section")}return a()(n,[{key:"render",value:function(){return new g('<div data-chat-id="{{id}}" class="chat-top-interface">\n          <div class="chat-top-interface__user-wrapper">\n            <div class="chat-top-interface__avatar">\n              <img\n                class="chat-top-interface__avatar-image"\n                src="{{avatar}}"\n                alt="{{title}}"\n              />\n            </div>\n            <div class="chat-top-interface__info-wrapper">\n              <h2 class="chat-top-interface__name">{{title}}</h2>\n            </div>\n          </div>\n\n          <div class="chat-top-interface__button-wrapper">\n            <button type="button" class="common chat-top-interface__button">\n              <svg\n                width="28"\n                height="28"\n                viewBox="0 0 28 28"\n                fill="none"\n                class="chat-top-interface__button-image"\n              >\n                <path\n                  d="M22 23V21C22 19.9391 21.5786 18.9217 20.8284 18.1716C20.0783 17.4214 19.0609 17 18 17H10C8.93913 17 7.92172 17.4214 7.17157 18.1716C6.42143 18.9217 6 19.9391 6 21V23"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n                <path\n                  d="M14 13C16.2091 13 18 11.2091 18 9C18 6.79086 16.2091 5 14 5C11.7909 5 10 6.79086 10 9C10 11.2091 11.7909 13 14 13Z"\n                  stroke="#787885"\n                  stroke-width="2"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n          </div>\n').compile(this.data)}}]),n}(m);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var ut=function(t){x()(i,t);var e,n,r=st(i);function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return new g('\n<form class="form form_user" name="user" id="user" novalidate>\n   <div class="form__container"><img class="avatar avatar_large form__avatar" src="{{avatar}}" alt="{{display_name}}"></div>\n   <fieldset class="form__fieldset" name="fieldset">\n      <legend class="form__legend">{{first_name}}</legend>\n      <div class="form__container">\n         <input type="text" name="first_name" class="input form__input form__input_user" id="user-first-name" placeholder="Введите имя" pattern="^([\\w\\W]{8,30})$" value="{{first_name}}" required>\n         <p class="error error_type_first-name" id="first_name"></p>\n      </div>\n      <div class="form__container">\n         <input type="text" name="second_name" class="input form__input form__input_user" id="user-second-name" placeholder="Введите фамилию" pattern="^([\\w\\W]{8,30})$" value="{{second_name}}" required>\n         <p class="error error_type_second-name" id="second_name"></p>\n      </div>\n      <div class="form__container">\n         <input type="text" name="display_name" class="input form__input form__input_user" id="user-display-name" placeholder="Введите отображаемое имя" pattern="^([\\w\\W]{8,30})$" value="{{display_name}}" required>\n         <p class="error error_type_display-name" id="display_name"></p>\n      </div>\n      <div class="form__container">\n         <input type="email" name="email" class="input form__input form__input_user" id="user-email" placeholder="{{emailPlaceholder}}" pattern="{{emailPattern}}" value="{{email}}" required>\n         <p class="error error_type_email" id="email"></p>\n      </div>\n      <div class="form__container">\n         <input type="text" name="login" class="input form__input form__input_user" id="user-login" placeholder="{{loginPlaceholder}}" pattern="{{loginPattern}}" value="{{login}}" required>\n         <p class="error error_type_email" id="login"></p>\n      </div>\n      <div class="form__container">\n         <input type="tel" name="phone" class="input form__input form__input_user" id="user-phone" placeholder="Введите телефон" pattern="^(\\+7((\\(\\d{3}\\)\\s?\\d{3}-\\d{2}-\\d{2})|(\\s\\d{3}-\\d{3}-\\d{2}-\\d{2})|(\\d{10})))|(8\\d{10})$" value="{{phone}}" required>\n         <p class="error error_type_email" id="phone"></p>\n      </div>\n      <div class="form__container"><button type="submit" class="common form__button" disabled>\n         {{button}}</button>\n      </div>\n      <div class="form__container">\n         <p class="form__text">{{subbutton}}</p>\n         <button id="exit-button" type="button" class="form__link form__link_exit">{{link}}</button>\n         <button id="chat-button"  type="button" class="form__link form__link_chat">{{linkChat}}</button>\n      </div>\n   </fieldset>\n</form>\n').compile(this.data)}},{key:"setListeners",value:function(){this.setInitialListeners(),this.submit(),this.setRouter()}},{key:"setRouter",value:function(){var t=this,e=document.querySelector(this.props.form);e&&e.addEventListener("click",(function(e){var n=e.target;"exit-button"===n.getAttribute("id")?t.logoutFromChat():"chat-button"===n.getAttribute("id")&&t.props.router.go(t.props.path.chat)}))}},{key:"logoutFromChat",value:(n=V()(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.authApi.logout();case 3:200===t.sent.status&&this.props.router.go(this.props.path.auth),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"submit",value:function(){var t=this,e=document.querySelector(this.props.form);e&&e.addEventListener("submit",function(){var n=V()(G.a.mark((function n(r){var o,i;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!(o=t.props.getDataOnSubmit(t.props.validation,t.props.form)).status){n.next=13;break}return n.prev=3,n.next=6,t.props.userApi.updateProfile(o.data);case 6:200===(i=n.sent).status?t.props.router.go(t.props.path.chat):e.querySelector(t.props.error).textContent=JSON.parse(i.response).reason,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(t){return n.apply(this,arguments)}}())}},{key:"setInfo",value:(e=V()(G.a.mark((function t(){var e,n,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.authApi.getUserInfo();case 3:200===(e=t.sent).status?(n=JSON.parse(e.response),r=n.avatar,this.setProps(at(at({},JSON.parse(e.response)),{},{avatar:r?"https://ya-praktikum.tech".concat(r):"https://dmitrovipoteka.ru/wp-content/uploads/2016/09/default-user-img.jpg"})),this.setListeners()):this.props.router.go("/auth"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return e.apply(this,arguments)})}]),i}(H);function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var lt=function(t){x()(n,t);var e=ct(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){return new g('\n<form class="form form_pass" name="pass" id="pass" novalidate="">\n   <fieldset class="form__fieldset" name="fieldset">\n    <legend class="form__legend">Смена пароля</legend>\n    <div class="form__container">\n        <input type="password" name="oldPassword" class="input form__input form__input_pass" id="old-password" placeholder="{{oldPassword}}" pattern="{{passPattern}}" required>\n        <p class="error error_type_password" id="oldPassword"></p>\n    </div>\n    <div class="form__container">\n        <input type="password" name="newPassword" class="input form__input form__input_pass" id="new-password" placeholder="{{newPassword}}" pattern="{{passPattern}}" required>\n        <p class="error error_type_password" id="newPassword"></p>\n    </div>\n    <p class="error error_type_pass-error" id="pass-error"></p>\n      <div class="form__container"><button id="" type="submit" class="common form__button" disabled>\n         {{button}}</button>\n      </div>\n      <div class="form__container">\n         <button id="pass-form" type="button" class="form__link">{{link}}</button>\n      </div>\n   </fieldset>\n</form>').compile(this.data)}},{key:"setListeners",value:function(){this.setInitialListeners(),this.submit(),this.setRouter()}},{key:"setRouter",value:function(){var t=this;document.querySelector(this.props.form).addEventListener("click",(function(e){"pass-form"===e.target.getAttribute("id")&&(t.props.router.go(t.props.path.chat),t.removeTextAndErrors(),t.disableButton())}))}},{key:"submit",value:function(){var t=this,e=document.querySelector(this.props.form);e.addEventListener("submit",function(){var n=V()(G.a.mark((function n(r){var o,i;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=t.props.getDataOnSubmit(t.props.validation,t.props.form),n.prev=2,n.next=5,t.props.userApi.updatePass(o.data);case 5:if(200!==(i=n.sent).status){n.next=13;break}return n.next=9,t.props.authApi.logout();case 9:200===n.sent.status&&(t.props.router.go(t.props.path.auth),t.removeTextAndErrors(),t.disableButton()),n.next=14;break;case 13:e.querySelector(t.props.error).textContent=i.response;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[2,16]])})));return function(t){return n.apply(this,arguments)}}())}}]),n}(H);function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var ft=function(t){x()(r,t);var e,n=pt(r);function r(){return o()(this,r),n.apply(this,arguments)}return a()(r,[{key:"render",value:function(){return new g('\n<form class="form form_ava" name="ava" id="myAvatarForm" novalidate="">\n   <fieldset class="form__fieldset" name="fieldset">\n      <legend class="form__legend">Обновить аватар</legend>\n      <div class="form__container">\n         <input id="avatar" type="file" name="avatar" class="input form__input form__input_auth" accept="image/*" required>\n         <p class="error error_type_ava-file" id="avaFile"></p>\n      </div>\n    <p class="error error_type_ava-error" id="chat-form-error"></p>\n      <div class="form__container"><button type="submit" class="common form__button" disabled>\n         {{button}}</button>\n      </div>\n      <div class="form__container">\n         <button id="ava-form" type="button" class="form__link">{{link}}</button>\n      </div>\n   </fieldset>\n</form>').compile(this.data)}},{key:"setListeners",value:function(){this.setInitialListeners(),this.submit(),this.setRouter()}},{key:"setRouter",value:function(){var t=this;document.querySelector(this.props.form).addEventListener("click",(function(e){"ava-form"===e.target.getAttribute("id")&&t.props.router.go(t.props.path.chat)}))}},{key:"submit",value:function(){var t=this,e=document.querySelector(this.props.form);e.addEventListener("submit",(function(n){n.preventDefault(),t.props.getDataOnSubmit(t.props.validation,t.props.form).status&&t.updateAvatar(e)}))}},{key:"updateAvatar",value:(e=V()(G.a.mark((function t(e){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.userApi.updateAvatar(e);case 3:200===(n=t.sent).status?(this.props.router.go(this.props.path.chat),this.removeTextAndErrors(),this.disableButton()):e.querySelector(this.props.error).textContent=n.response,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t){return e.apply(this,arguments)})}]),r}(H);function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E()(t);if(e){var o=E()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var dt=function(t){x()(r,t);var e,n=ht(r);function r(){return o()(this,r),n.apply(this,arguments)}return a()(r,[{key:"render",value:function(){return new g('\n<form class="form form_chat" name="chatForm" id="chatForm" novalidate="">\n   <fieldset class="form__fieldset" name="fieldset">\n    <legend class="form__legend">{{legend}}</legend>\n    <div class="form__container">\n      <input type="text" name="title" class="input form__input form__input_chat-title" id="chatTitle" placeholder="{{placeholder}}" pattern="^([\\w\\W]{8,30})$" required>\n      <p class="error error_type_email" id="title"></p>\n    </div>\n    <p class="error error_type_chat-error" id="chat-error"></p>\n      <div class="form__container"><button id="" type="submit" class="common form__button" disabled>\n         {{button}}</button>\n      </div>\n      <div class="form__container">\n         <button id="chat-form-button" type="button" class="form__link">{{link}}</button>\n      </div>\n   </fieldset>\n</form>').compile(this.data)}},{key:"setListeners",value:function(){this.setInitialListeners(),this.submit(),this.setRouter()}},{key:"setRouter",value:function(){var t=this;document.querySelector(this.props.form).addEventListener("click",(function(e){e.target.getAttribute("id")===t.props.button&&(t.props.router.go(t.props.path.chat),t.removeTextAndErrors(),t.disableButton())}))}},{key:"submit",value:function(){var t=this,e=document.querySelector(this.props.form);e.addEventListener("submit",(function(n){n.preventDefault();var r=t.props.getDataOnSubmit(t.props.validation,t.props.form);r.status&&t.createChat(r.data,e)}))}},{key:"createChat",value:(e=V()(G.a.mark((function t(e,n){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.chatApi.createChat(e);case 3:200===(r=t.sent).status?(this.props.router.go(this.props.path.chat),this.removeTextAndErrors(),this.disableButton()):n.querySelector(this.props.error).textContent=r.response,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t,n){return e.apply(this,arguments)})}]),r}(H),vt=function(t,e){document.querySelector(e).querySelectorAll("input").forEach((function(e){e.addEventListener("focus",(function(e){t.validate(e)})),e.addEventListener("change",(function(e){t.validate(e)})),e.addEventListener("blur",(function(e){t.validate(e)})),e.addEventListener("input",(function(e){t.validate(e)}))}))},mt=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'/]/gi,(function(t){return e[t]}))},yt=function(t,e){var n=document.querySelector(e);return t.checkAllInputs()?{status:!0,data:Array.from(n.querySelectorAll("input")).reduce((function(t,e){return t[e.name]=mt(e.value),t}),{})}:{status:!1}},_t=function(){function t(e){o()(this,t),this.api=e}return a()(t,[{key:"signUp",value:function(t){return this.api.post("/auth/signup",t)}},{key:"signIn",value:function(t){return this.api.post("/auth/signin",t)}},{key:"getUserInfo",value:function(){return this.api.get("/auth/user")}},{key:"logout",value:function(){return this.api.post("/auth/logout",void 0)}}]),t}(),gt=function(){function t(e){o()(this,t),this.api=e}return a()(t,[{key:"getChats",value:function(){return this.api.get("/chats")}},{key:"createChat",value:function(t){return this.api.post("/chats",t)}}]),t}(),bt="GET",wt="POST",kt="PUT",xt="DELETE",Pt=function(){function t(e){o()(this,t),this.url=e}return a()(t,[{key:"request",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,r=t.method,o=t.body,i=t.path,a=t.contentType;return new Promise((function(t,s){var u=new XMLHttpRequest;u.open(r,e.url+i),u.withCredentials=!0,a||u.setRequestHeader("Content-Type","application/json; charset=utf-8"),u.timeout=n,u.onload=function(){t(u)},u.onabort=s,u.onerror=s,u.ontimeout=s,"GET"!==r&&o?"multipart/form-data"===a?u.send(new FormData(o)):u.send(JSON.stringify(o)):u.send()}))}},{key:"get",value:function(t){return this.request({path:t,method:bt})}},{key:"post",value:function(t,e){return this.request({path:t,body:e,method:wt})}},{key:"put",value:function(t,e,n){return this.request({path:t,body:e,method:kt,contentType:n})}},{key:"delete",value:function(t,e){return this.request({path:t,body:e,method:xt})}}]),t}(),Rt=function(){function t(e){o()(this,t),this.api=e}return a()(t,[{key:"updateProfile",value:function(t){return this.api.put("/user/profile",t,null)}},{key:"updatePass",value:function(t){return this.api.put("/user/password",t,null)}},{key:"updateAvatar",value:function(t){return this.api.put("/user/profile/avatar",t,"multipart/form-data")}},{key:"searchUser",value:function(t){return this.api.post("/user/search",t)}}]),t}(),Ct=new Pt("https://ya-praktikum.tech/api/v2"),Et=new _t(Ct),Ot=new Rt(Ct),Lt=new gt(Ct),St=new Q({firstNamePlaceholder:"Введите имя",firstNamePattern:"^([\\w\\W]{8,30})$",secondNamePlaceholder:"Введите фамилию",secondNamePattern:"^([\\w\\W]{8,30})$",mailPlaceholder:"Введите почту",mailPattern:"^\\w+([\\.\\-\\]?\\w+)@\\w+([\\.\\-]?\\w+)*(\\.\\w{2,8})$",loginPlaceholder:"Введите логин",loginPattern:"^([\\w\\W]{8,30})$",passPlaceholder:"Введите пароль",passPattern:"^([\\w\\W]{8,30})$",phonePlaceholder:"Введите телефон",phonePattern:"^(\\+7((\\(\\d{3}\\)\\s?\\d{3}-\\d{2}-\\d{2})|(\\s\\d{3}-\\d{3}-\\d{2}-\\d{2})|(\\d{10})))|(8\\d{10})$",button:"Зарегистрироваться",subbutton:"Уже есть аккаунт?",link:"Войти"},{validation:new b(l,"#reg"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#reg",authApi:Et,router:w,path:v,button:"auth-form",error:"#reg-error",getDataOnSubmit:yt}),At=new Z({loginPlaceholder:"Введите логин",loginPattern:"^([\\w\\W]{8,30})$",passPlaceholder:"Введите пароль",passPattern:"^([\\w\\W]{8,30})$",button:"Войти",subbutton:"Нет аккаунта?",link:"Зарегистрироваться"},{validation:new b(l,"#auth"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#auth",authApi:Et,router:w,path:v,button:"reg-form",error:"#reg-error",getDataOnSubmit:yt}),jt=new ut({emailPlaceholder:"Введите почту",emailPattern:"^\\w+([\\.\\-\\]?\\w+)@\\w+([\\.\\-]?\\w+)*(\\.\\w{2,8})$",loginPlaceholder:"Введите логин",loginPattern:"^([\\w\\W]{8,30})$",passPlaceholder:"Введите пароль",passPattern:"^([\\w\\W]{8,30})$",button:"Сохранить",subbutton:"Хотите выйти?",link:"Выйти",linkChat:"Назад к чатам"},{validation:new b(l,"#user"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#user",authApi:Et,userApi:Ot,router:w,path:v,button:"#chat-button",getDataOnSubmit:yt}),Dt=new lt({oldPassword:"Введите старый пароль",newPassword:"Введите новый пароль",passPattern:"^([\\w\\W]{8,30})$",button:"Изменить пароль",link:"Назад к чатам"},{validation:new b(l,"#pass"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#pass",authApi:Et,userApi:Ot,router:w,path:v,button:"#pass-form",error:"#pass-error",getDataOnSubmit:yt}),It=new ft({button:"Обновить",link:"Назад к чатам"},{validation:new b(l,"#myAvatarForm"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#myAvatarForm",userApi:Ot,router:w,path:v,button:"#ava-form",error:"#ava-error",getDataOnSubmit:yt}),qt=new dt({legend:"Создать чат",placeholder:"Введите название чата",pattern:"^([\\w\\W]{8,30})$",button:"Создать чат",link:"Назад к чатам"},{validation:new b(l,"#chatForm"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#chatForm",chatApi:Lt,router:w,path:v,button:"chat-form-button",error:"#chat-form-error",getDataOnSubmit:yt}),Tt=new tt({id:"not-found-page",type:"error-page_not-found",error:"404",text:"Упс, не туда попали..."},{router:w,page:"#not-found-page",path:v}),Mt=new B({id:"error-page",type:"error-page_error",error:"500",text:"Что-то упало, сейчас починим"},{router:w,page:"#error-page",path:v}),Bt=new L,Ft=new nt,Nt=new N({src:"https://bit.ly/35S5whM",title:"Избранные",name:"Игорь"}),$t=new ot,Ht=new A;function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ut=function(){function t(e){o()(this,t),this.props=e,u()(this,"chat",void 0)}var e,n;return a()(t,[{key:"getContent",value:function(){return this.chat=document.createElement("section"),this.chat.classList.add("chat-view"),this.chat.setAttribute("id","chat"),this.chat.style.width="100%",this.chat.style.display="flex",this.chat.appendChild(this.props.sideInterface.getContent()),this.chat.appendChild(this.props.dialogInterface.getContent()),this.setInfo(),this.chat}},{key:"setListeners",value:function(){this.props.checkInputsOnFocusAndBlur(this.props.validation,this.props.form),this.props.checkOnSubmit(this.props.validation,this.props.form),this.openUserInfo(),this.openChatDialog()}},{key:"openUserInfo",value:function(){var t=this;this.chat&&this.chat.addEventListener("click",(function(e){switch(e.target.getAttribute("id")){case"user-top-menu__info":t.props.router.go(t.props.path.userInfo),t.props.userInfo.setInfo(),t.props.userInfo.setListeners();break;case"user-top-menu__password":t.props.router.go(t.props.path.pass);break;case"user-top-menu__avatar":t.props.router.go(t.props.path.ava);break;case"user-top-menu__chat":t.props.router.go(t.props.path.newChat)}}))}},{key:"openChatDialog",value:function(){var t=this;this.chat&&this.chat.addEventListener("click",function(){var e=V()(G.a.mark((function e(n){var r,o;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.target,!(r.classList.contains("message__wrapper")&&r.getAttribute("id"))){e.next=13;break}return e.prev=3,e.next=6,t.props.chatApi.getChats();case 6:o=e.sent,JSON.parse(o.response).forEach((function(e){var n=e.id===+r.getAttribute("id");n&&!e.avatar?t.props.dialogInterface.topInterface.setProps(Gt(Gt({},e),{},{avatar:"https://dmitrovipoteka.ru/wp-content/uploads/2016/09/default-user-img.jpg"})):n&&e.avatar&&t.props.dialogInterface.topInterface.setProps(e),t.props.dialogInterface.interface.style.display="block"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"show",value:function(){this.chat.style.display="flex"}},{key:"hide",value:function(){this.chat.style.display="none"}},{key:"setInfo",value:function(){this.setAvatarAndName(),this.setChatsMessages()}},{key:"setAvatarAndName",value:(n=V()(G.a.mark((function t(){var e,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.authApi.getUserInfo();case 3:200===(e=t.sent).status?(n=JSON.parse(e.response),this.props.sideInterface.avatar.setProps({name:n.display_name||"Кто-то"}),this.props.sideInterface.avatar.setProps({img:n.avatar?"https://ya-praktikum.tech".concat(n.avatar):"https://dmitrovipoteka.ru/wp-content/uploads/2016/09/default-user-img.jpg"})):(console.log("Ошибка ".concat(e.status)),this.props.router.go("/auth")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"setChatsMessages",value:(e=V()(G.a.mark((function t(){var e,n=this;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.props.chatApi.getChats();case 3:200===(e=t.sent).status?(this.clearMessagesList(),JSON.parse(e.response).forEach((function(t){var e=t.avatar?new Y(t):new Y(Gt(Gt({},t),{},{avatar:"https://dmitrovipoteka.ru/wp-content/uploads/2016/09/default-user-img.jpg"}));n.props.sideInterface.messagesList.wrapper.appendChild(e.getContent())}))):console.log("Ошибка: ".concat(e.status)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return e.apply(this,arguments)})},{key:"clearMessagesList",value:function(){this.props.sideInterface.messagesList.wrapper.innerHTML=""}}]),t}(),Vt=function(){function t(e,n,r,i){o()(this,t),this.avatar=e,this.search=n,this.favorites=r,this.messagesList=i,u()(this,"interface",void 0)}return a()(t,[{key:"getContent",value:function(){return this.interface=document.createElement("section"),this.interface.classList.add("left"),this.interface.appendChild(this.avatar.getContent()),this.interface.appendChild(this.search.getContent()),this.interface.appendChild(this.favorites.getContent()),this.interface.appendChild(this.messagesList.getContent()),this.interface}}]),t}(),Jt=function(){function t(){o()(this,t),u()(this,"wrapper",void 0)}return a()(t,[{key:"getContent",value:function(){var t=document.createElement("section"),e=document.createElement("div");return this.wrapper=e,t.classList.add("messages-container"),e.classList.add("messages-container__overflow"),t.appendChild(e),t}}]),t}(),Zt=function(){function t(){o()(this,t),u()(this,"wrapper",void 0)}return a()(t,[{key:"getContent",value:function(){var t=document.createElement("section"),e=document.createElement("h2"),n=document.createElement("div");return this.wrapper=n,t.classList.add("messages-list"),e.classList.add("messages-list__title"),n.classList.add("messages-list__wrapper"),e.textContent="Сообщения",t.appendChild(e),t.appendChild(n),t}}]),t}(),zt=function(){function t(e,n,r){o()(this,t),this.topInterface=e,this.messagesContainer=n,this.bottomInterface=r,u()(this,"interface",void 0)}return a()(t,[{key:"getContent",value:function(){return this.interface=document.createElement("section"),this.interface.classList.add("chat"),this.interface.style.display="none",this.interface.appendChild(this.topInterface.getContent()),this.interface.appendChild(this.messagesContainer.getContent()),this.interface.appendChild(this.bottomInterface.getContent()),this.interface}}]),t}(),Qt=new Ut({sideInterface:new Vt(Bt,Ft,Nt,new Zt),dialogInterface:new zt($t,new Jt,Ht),authApi:Et,router:w,validation:new b(l,"#message"),errors:l,checkInputsOnFocusAndBlur:vt,form:"#message",path:v,checkOnSubmit:function(t,e){var n=document.querySelector(e);n.addEventListener("submit",(function(e){if(e.preventDefault(),t.checkAllInputs()){var r=Array.from(n.querySelectorAll("input")).reduce((function(t,e){return t[e.name]=mt(e.value),t}),{});console.log(r),n.querySelector("input").value="",t.disableButton()}}))},userInfo:jt,chatApi:Lt});w.use("/auth",At).use("/reg",St).use("/user-info",jt).use("/chat",Qt).use("/not-found",Tt).use("/error",Mt).use("/pass",Dt).use("/ava",It).use("/new-chat",qt),w.start(),function(t,e,n){"/"===window.location.pathname||"/chat"===window.location.pathname?e.go("/chat"):Object.values(n).every((function(t){return window.location.pathname!==t}))?e.go("/not-found"):e.go(window.location.pathname)}(window.location.pathname,w,v)}]);